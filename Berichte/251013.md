| Kategorie | Beschreibung |
| --------- | --------- |
| Name      | Jonas Wolfbauer |
| Klasse    | 4AHITS |
| Fach      | ITSE |
| Thema     | Host Discovery |
| Datum     | 13.10.2025 |

# Host Discovery

## Der Command ``ping``
Mittels ``ping`` lässt sich eine Connectivity zwischen zwei Geräten innerhalb eines Netzwerkes prüfen. Möglich macht das, das Protokoll ``ICMP`` - aber ein Ping ist nur möglich, wenn die Empfängerseite ICMP nicht blockiert.

### Ping Experiment

Es lässt sich so zum Beispiel auch das Default Gateway pingen.

```bash
┌──(root㉿kali)-[~]
└─# ping 192.168.1.254
PING 192.168.1.254 (192.168.1.254) 56(84) bytes of data.
64 bytes from 192.168.1.254: icmp_seq=1 ttl=64 time=1.119 ms
64 bytes from 192.168.1.254: icmp_seq=2 ttl=64 time=0.671 ms
64 bytes from 192.168.1.254: icmp_seq=3 ttl=64 time=1.356 ms
```

### Cheatsheat

| Option                         | Beschreibung                      |
| -------------------------------| ----------------------------------|
| ``-c <count>``                 | Anzahl der Pings                  |
| ``-i <interval>``              | Wartezeit nach jedem Paket        |
| ``-s <size>``                  | Größe des Pakets (in Bytes)       |
| ``-b <Broadcast Address>``     | Broadcast senden                  |
| ``-f``                         | "Flood ping"                      |
| ``-w <miliseconds>``           | Warte xxx Milisekunden            |
| ``-W <seconds>``               | Warte xxx Sekunden                |

### Ping und Firewalls
Windows Firewalls blockieren häufig ICMP Requests, dies beudetet, dass dann auf der Senderseite keine Antwort erhält und es so wirkt, als würde es das Ziel nicht geben.   
Es ist jedoch möglich diesen Service zu aktivieren.


## Ping Script

### Funktionsweise
Es wird jede Adresse gepingt. Da dies sehr viele Adressen sein können, wird nur die Ping Ausgabe bei Erfolg ausgegeben.

### Script
```bash
#!/bin/bash

SUBNET="192.168.1"

for i in {1..254}
do
    IP="${SUBNET}.${i}"

    if ping -c 3 -W 1 "$IP" > /dev/null 2>&1; then
        ping -c 3 -W 1 "$IP"
    fi
done
```

### Ausführung + Ausgabe
```bash
┌──(root㉿kali)-[/home/kali/Desktop]
└─# bash ping.sh
PING 192.168.1.51 (192.168.1.51) 56(84) bytes of data.
64 bytes from 192.168.1.51: icmp_seq=1 ttl=64 time=0.019 ms
64 bytes from 192.168.1.51: icmp_seq=2 ttl=64 time=0.051 ms
64 bytes from 192.168.1.51: icmp_seq=3 ttl=64 time=0.035 ms

--- 192.168.1.51 ping statistics ---
3 packets transmitted, 3 received, 0% packet loss, time 2044ms
rtt min/avg/max/mdev = 0.019/0.035/0.051/0.013 ms
PING 192.168.1.254 (192.168.1.254) 56(84) bytes of data.
64 bytes from 192.168.1.254: icmp_seq=1 ttl=255 time=1.56 ms
64 bytes from 192.168.1.254: icmp_seq=2 ttl=255 time=3.70 ms
64 bytes from 192.168.1.254: icmp_seq=3 ttl=255 time=1.72 ms

--- 192.168.1.254 ping statistics ---
3 packets transmitted, 3 received, 0% packet loss, time 2003ms
rtt min/avg/max/mdev = 1.556/2.325/3.697/0.972 ms
```


## ``nmap`` Host Discovery
Nun wird ``nmap`` für einen Scan verwendet.   
Es fällt aber direkt auf, dass ``nmap`` um Welten schneller ist.

### Ausführung + Ausgabe
```bash
┌──(root㉿kali)-[~]
└─# nmap -sn 192.168.1.0/24
Starting Nmap 7.95 ( https://nmap.org ) at 2025-10-20 06:18 EDT
Nmap scan report for 192.168.1.50
Host is up (0.00061s latency).
MAC Address: D8:E2:DF:FB:B0:49 (Microsoft)
Nmap scan report for 192.168.1.254
Host is up (0.0020s latency).
MAC Address: 1C:DF:0F:CA:41:01 (Cisco Systems)
Nmap scan report for 192.168.1.51
Host is up.
Nmap done: 256 IP addresses (3 hosts up) scanned in 24.42 seconds
```

> Anmerkung
Metasploitable hatte DHCP Probleme, was mir jedoch erst später auffiel.
Ohne Laborumgebung wäre ein zweiter Scan sinnlos.
Verzeihung für die Unannehmlichkeiten.